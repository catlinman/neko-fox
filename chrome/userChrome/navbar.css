
/* Expand toolbar on hover */
:root:not([customizing]) #nav-bar > toolbarbutton,
:root:not([customizing]) #nav-bar > toolbaritem,
:root:not([customizing]) #nav-bar-customization-target > toolbarbutton:not(.toolbarbutton-combined),
:root:not([customizing]) #nav-bar-customization-target > toolbaritem:not(#urlbar-container):not(.toolbaritem-combined-buttons) {
    transform: scaleX(0) !important;
    margin-left: -28px !important;
    pointer-events: none !important;
    opacity: 0.5;
    transition: 
        margin-left var(--animation-time) var(--animation-easing-function), 
        transform var(--animation-time) var(--animation-easing-function), 
        opacity var(--animation-time) 
        !important;
}

:root:not([customizing]) #nav-bar toolbarbutton[open],
:root:not([customizing]) #nav-bar:hover toolbarbutton,
:root:not([customizing]) #nav-bar:hover toolbaritem:not(#urlbar-container),
:root:not([customizing]) #nav-bar:focus-within toolbarbutton,
:root:not([customizing]) #nav-bar:focus-within toolbaritem:not(#urlbar-container) {
    transform: scaleX(1) !important;
    margin-left: 0px !important;
    pointer-events: auto !important;
    opacity: 1;
}

:root:not([customizing]) :hover > #nav-bar #urlbar,
:root:not([customizing]) #navigator-toolbox:focus-within #nav-bar #urlbar {
	font-size: 1.2em !important;
}

/* Remove borders & shadows */
.tabbrowser-tab::after, .tabbrowser-tab::before {
    border-left: none;
}

#urlbar, .searchbar-textbox {
    border: none;
    box-shadow: none;
}

/* url bar text shrinks when in "stealth mode" */
#nav-bar #urlbar {
	font-size: 0.85em !important;
    transition: all 100ms var(--animation-easing-function) !important;
}

#nav-bar {
    border: none;
    box-shadow: none;
}

/* Make urlbar semi-opaque when unfocused or unhovered */
#urlbar {
    margin-left: -12px;
    opacity: 0.5;
    background-color: var(--dimmed-background);
    transition: opacity var(--animation-time);
}

#urlbar[breakout] {
    width: 99.5vw !important;
}

#urlbar[breakout]:hover, #urlbar[breakout][focused] {
    width: 100% !important;
}

#urlbar[breakout]:active {
    border: solid 1px var(--color);    
}

#urlbar[focused] {
    background-color: var(--dimmed-background);
}

#urlbar:hover, #urlbar[focused] {
    opacity: 1;
    margin-left: 0px;
    width: 100%;
}


